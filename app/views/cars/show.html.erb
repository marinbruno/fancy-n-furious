
<div class="card-category parent" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= @car.photo %>)">
  <%= @car.model %>
</div>
<div class="child">
  <% unless current_user.nil? %>
    <% if @user.car_wishes.where(car: @car).size > 0 %>
      <%= link_to image_tag('favorite.svg'), car_wish_path(id: @user.car_wishes.where(car: @car).first), method: :delete %>
    <% else %>

      <%= link_to image_tag('favorite_add.svg'), car_wishes_path(car_id: @car.id), method: :post%>
    <% end %>
  <% end %>
</div>
<div  class="mt-3">
  <h3> Brand: <%= @car.brand %></h3>
  <p> Description: <%= @car.car_description %></p>
  <div class="d-flex justify-content-between">
    <div>
      <p> Year: <%= @car.year %></p>
    </div>
    <div>
      <p> Category: <%= @car.category %></p>
    </div>
    <div>
      <p> Daily Amount: <%= @car.daily_amount %></p>
    </div>
    <div>
      <p> Owner: <%= "#{@car.user.first_name} #{@car.user.last_name}" %></p>
    </div>
  </div>
  <p> Location: <%= @car.car_location %></p>
</div>

<div
  id="map"
  style="width: 100%;
  height: 150px;"
  data-markers="<%= @markers.to_json %>"
  data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
></div>
<div class="mt-3">
  <% unless current_user.nil? %>
    <%= link_to 'Book Now', new_car_booking_path(@car), class: 'mr-3 btn btn-primary btn-block btn-large' %>
  <% end %>
</div>
<div class="d-flex mt-3">
  <%= link_to 'Back', cars_path, class: 'mr-3 btn btn-secondary' %>
  <% if @car.user == current_user %>
    <%= link_to 'Edit', edit_car_path(@car.id), class: 'mr-3 btn btn-warning' %>
    <%= link_to 'Delete', car_path(@car), method: :delete, class: 'btn btn-danger' %>
  <% end %>
</div>
